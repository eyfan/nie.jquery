(function(e){nie.util.videoData=nie.util.videoData||[];nie.util.video=nie.util.video||function(l,c){this.fatDom=e(l);if(this.fatDom.length>0){var f=nie.util.videoData.length,a={width:["100%",1],height:["100%",1],wmode:["direct",0],bgcolor:["000000",0],movieUrl:[null,1],videoWidth:[null,1],videoHeight:[null,1],volume:[0.8,1],autoPlay:[!1,1],startImg:[null,1],loopTimes:[0,1],maskImg:[null,1],bufferTime:[5,1],videoIndex:[f,1],playBtnArea:[null,1],allowFullScreen:[!0,1]},i={videoWidth:"width",videoHeight:"height"},
k={},g=navigator.userAgent,j=/i(Phone|Pad)/i.test(g),g=/Android/i.test(g),j=j||g,d;nie.util.videoData.push({cb_valName:function(){}});typeof c.playComplete_callBack=="function"&&(nie.util.videoData[f].playComplete_callBack=c.playComplete_callBack);for(var b in a)typeof c[b]!="undefined"&&(a[b][0]=c[b]);for(b in i)a[b][0]==null&&(a[b][0]=a[i[b]][0]);for(b in a)a[b][1]==1&&(k[b]=a[b][0]);var h=(j||!e.flash.available)&&c.mp4_movieUrl;if(h){f=["video","source"];b=0;for(i=f.length;b<i;b++)document.createElement(f[b]);
a=e("<video>",{controls:!0,autoplay:a.autoPlay[0],poster:a.startImg[0],src:c.mp4_movieUrl,loop:a.loopTimes!=0}).attr({width:a.width[0],height:a.height[0]});g&&a.click(function(){this.play()});e("<source>",{src:c.mp4_movieUrl,type:"video/mp4"}).appendTo(a);this.fatDom.empty().append(a);d=a[0]}else this.fatDom.flash({width:a.width[0],height:a.height[0],swf:"http://res.nie.netease.com/comm/js/nie/util/player.swf",allowFullScreen:a.allowFullScreen[0],allowscriptaccess:"always",wmode:a.wmode[0],bgcolor:a.bgcolor[0],
hasVersion:10.2,flashvars:k}),nie.util.videoData[f].flashObj=this;this.destroy=function(){this.stop();this.fatDom.empty()};this.change=function(a){h?d.src=a:this.fatDom.flash(function(){this.change(a)})};this.stop=function(){h?(d.pause(),e.browser.mozilla?d.mozSrcObject=null:d.src=e.browser.opera?null:""):this.fatDom.flash(function(){this.stopVideo()})};this.pause=function(){h?d.pause():this.fatDom.flash(function(){this.pauseVideo()})};this.play=function(){h?d.play():this.fatDom.flash(function(){this.playVideo()})}}}})(jQuery);
