$.extend({marquee2:function(g,k,h){var c,i,n,l,d,j=k,b;var e=function(){var p=((n.css(j)=="auto")?l:l+parseInt(n.css(j)))*d;var o={};o[j]=-l;n.animate(o,p,"linear",function(){n.css(j,0);e()})};var a=function(o,p){return(h&&h[o])?h[o]:p};var f=function(){var o=a("btnEvent","mouseover");var p=a("btnChangeSpeed",5);var q=function(u,t){var r=d;var s=t;u.bind(o,function(){n.stop();if(j!=s){var x=0;var w="";switch(s){case"top":x=parseInt(n.css("bottom"));w="bottom";break;case"bottom":x=parseInt(n.css("top"));w="top";break;case"left":x=parseInt(n.css("right"));w="right";break;case"right":x=parseInt(n.css("left"));w="left";break}if(isNaN(x)){x=-Math.abs(i-l-parseInt(n.css(s)))}j=s;var v=(i-x<0)?-Math.abs(i-l-x)+l:i-l-x;n.css(j,v).css(w,"")}d=p;e()}).mouseout(function(){n.stop();d=r;e()})};if(h){if(j=="left"||j=="right"){if(h.leftBtn){q($(h.leftBtn),"left")}if(h.rightBtn){q($(h.rightBtn),"right")}}else{if(j=="top"||j=="bottom"){if(h.topBtn){q($(h.topBtn),"top")}if(h.bottomBtn){q($(h.bottomBtn),"bottom")}}}}};var m=function(){c=$(g);i=c.width();n=c.children();n.children().clone().appendTo(n);n.hover(function(){n.stop()},e);l=((j=="left"||j=="right")?n.width():n.height())/2;d=a("speed",40);f();e()}()}});